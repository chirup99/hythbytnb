import { motion, AnimatePresence } from "framer-motion";

import { BrokerData } from "@/components/broker-data";

import React, {
  useState,
  useEffect,
  useMemo,
  useCallback,
  useRef,
} from "react";
import { useLocation } from "wouter";

import { useToast } from "@/hooks/use-toast";

import { AuthButtonAngelOne, AngelOneStatus, AngelOneApiStatistics, AngelOneSystemStatus, AngelOneLiveMarketPrices } from "@/components/auth-button-angelone";

import { AuthButtonUpstox } from "@/components/auth-button-upstox";

import { TradingJournalModal } from "@/components/trading-journal-modal";

// REMOVED: All Fyers-related imports
// import { AuthButton } from "@/components/auth-button";

// import { ConnectionStatus } from "@/components/connection-status";

// import { MonthlyProgressTracker } from "@/components/monthly-progress-tracker";

// import { ApiStatistics } from "@/components/api-statistics";

// import { ErrorPanel } from "@/components/error-panel";

import { SigninDataWindow } from "@/components/signin-data-window";

import { TradingViewWidget } from "@/components/tradingview-widget";

import { AdvancedCandlestickChart } from "@/components/advanced-candlestick-chart";

import { EnhancedTradingViewWidget } from "@/components/enhanced-tradingview-widget";

import { TradingViewStyleChart } from "@/components/tradingview-style-chart";

import { MinimalChart } from "@/components/minimal-chart";

import {

  MultipleImageUpload,
  MultipleImageUploadRef,
} from "@/components/multiple-image-upload";
import { IndicatorCrossingsDisplay } from "@/components/indicator-crossings-display";

// import { BattuScanSimulation } from "@/components/battu-scan-simulation";

// import { FourCandleRuleScanner } from "@/components/four-candle-rule-scanner";

import NeoFeedSocialFeed from "@/components/neofeed-social-feed";
import SimpleCompleteScanner from "@/components/simple-complete-scanner";
// import { BattuDocumentationDisplay } from "@/components/battu-documentation-display";

import { StrategyBuilder } from "@/components/strategy-builder";

import { TradingMaster } from "@/components/trading-master";

import { WorldMap } from "@/components/world-map";

import { DemoHeatmap } from "@/components/DemoHeatmap";

import { PersonalHeatmap } from "@/components/PersonalHeatmap";

import { useTheme } from "@/components/theme-provider";

import { useCurrentUser } from "@/hooks/useCurrentUser";

import { useAngelOneAutoconnect } from "@/hooks/useAngelOneAutoconnect";

import { cognitoSignOut, getCognitoToken, sendEmailVerificationCode, confirmEmailVerification, checkEmailVerified } from "@/cognito";

import { createChart, ColorType, IChartApi, ISeriesApi, CandlestickSeries, LineSeries, HistogramSeries, IPriceLine, createSeriesMarkers } from 'lightweight-charts';

import { ArrowLeft, Banknote, Clock, ExternalLink, Info, Loader2, LogOut, Newspaper, RefreshCw, Save, TrendingUp, Award, Headset, X, Play, Music2, Pencil, CheckCircle } from "lucide-react";

import { parseBrokerTrades, ParseError } from "@/utils/trade-parser";


// Global window type declaration for audio control
declare global {
  interface Window {
    stopNewsAudio?: () => void;
  }
}

// import ThreeCycleScanner from "@/components/three-cycle-scanner";
import HistoricalTradeSimulator from "@/components/historical-trade-simulator";
import {

  PriceChangeAnimation,
  TradeExecutionAnimation,
  VolumeSpikeAnimation,
  MarketStatusPulse,
  ProfitLossAnimation,
